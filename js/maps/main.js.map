{"version":3,"sources":["main.js","api/api-service.js","auth/auth-service.js","entity/entity-controller.js","entity/entity-directive.js","entity/entity-filter.js","entity/entity-service.js","endpoint/endpoint-controller.js","endpoint/endpoint-service.js","error/error-service.js","i18n/messages.en.js","i18n/messages.ja.js","i18n/translate.js","index/index-controller.js","login/login-controller.js","schema/schema-form.js","schema/schema-normalizer.js","schema/schema-validator.js","side/side-service.js","top/top-controller.js","util/angular-base64-upload.js","util/date-picker.js"],"names":["angular","module","config","$routeProvider","$mdThemingProvider","$sceDelegateProvider","console","info","theme","primaryPalette","accentPalette","when","controller","templateUrl","resourceUrlWhitelist","run","$rootScope","$endpointService","$apiService","$errorService","$location","$authService","ep","getSelected","token","search","saveToken","url","login","checkLogin","setup","then","err","showError","factory","$q","$http","getUrl","path","replace","resolution","resolve","result","data","rejection","reject","msg","message","statusText","Error","status","get","query","method","params","post","put","del","getConfig","log","$emit","stack","inc","dec","request","requestError","response","responseError","$cookies","tokens","localStorage","getItem","JSON","parse","_","find","name","headerName","headers","$httpProvider","interceptors","push","logout","filter","setItem","stringify","item","findWhere","indexOf","list","map","t","pick","$scope","$routeParams","$schemaForm","$entityService","$schemaNormalizer","$window","isLoading","kind","limit","loadCount","isSearch","isFilter","section","page","filter_q","getFields","entityConfig","features","schema","fields","keys","properties","field","id","label","substr","getSearchSchema","searchSchema","rows","length","edit","row","editing","blur","setTimeout","resize","loadMore","offset","concat","searchForm","toggleSearchform","toggled","body","document","getElementById","rect","getBoundingClientRect","th","Math","floor","innerHeight","top","style","height","$on","directive","restrict","link","scope","add","showForm","e","splice","opening","open","close","$document","key","getKey","entity","remove","removing","$broadcast","cancelRemoving","off","$mdDialog","element","save","saving","error","orig","input","value","saveField","$digest","focus","bind","evt","keyCode","preview","openOpt","show","template","targetEvent","event","elm","attr","raw","scrollTop","offsetHeight","scrollHeight","$apply","ngScroll","$compile","type","content","append","$filter","format","service","getEntityConfig","entities","normalizeFields","opts","deferred","defer","promise","undefined","spec","_this","this","submit","showSide","primaryKey","encodeURIComponent","join","import","file","files","reader","FileReader","readAsText","onload","target","i","export","filename","Date","window","requestFileSystem","webkitRequestFileSystem","TEMPORARY","fileSystem","root","getFile","create","exclusive","fileEntry","createWriter","fileWriter","blob","Blob","write","onwriteend","createElement","href","toURL","download","appendChild","click","removeChild","onerror","code","endpoints","getAll","index","select","location","hash","endpoint","$event","showDialog","title","maxLength","minLength","required","selected","each","$mdToast","toString","closeToast","hide","duration","position","$translateLoaderProvider","translations","Add","Cancel","Close","Create","Endpoints","Entities","Name","Update","Modify","Remove","Search","Settings","Submit","Top","Add the endpoint","Entity configuration not found for {{kind}}","provider","tables","mergeTables","table","lang","merge","$get","options","addTables","newTables","$translateProvider","useLoader","determinePreferredLanguage","$mdSidenav","$timeout","$interval","$translate","$translateLoader","toggleMenu","toggle","site","head","progress","mode","p","cancel","openRight","i18n","refresh","addEventListener","$sideContent","$schemaValidator","validator","errors","validate","forEach","hasError","submitter","interim","canceller","$new","$templateCache","linker","items","addClass","normalize","$$normalized","prop","keyOrder","formats","date-time","date","time","utc-millisec","isNaN","parseInt","regex","RegExp","color","uri","email","ipv4","ipv6","host-name","tv4","addFormat","test","val","validateMultiple","valid","keyPath","dataPath","split","shift","$rootElement","$mdTheming","$animate","lastScope","lastElement","$destroy","require","elem","attrs","ngModel","arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","btoa","fileObject","readerOnload","base64","$setViewValue","copy","on","filetype","filesize","size","readAsArrayBuffer","app","lineColor","textColor","mask","picker","$","css","call"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nangular\n.module('ngManager', [\n  'ngRoute',\n  'ngAnimate',\n  'ngAria',\n  'ngMaterial',\n  'pascalprecht.translate',\n  'datePicker',\n  'ngCookies',\n  'naif.base64'\n])\n.config(function($routeProvider, $mdThemingProvider, $sceDelegateProvider) {\n\n  console.info('Configuring theme');\n  $mdThemingProvider.theme('menu')\n  .primaryPalette('indigo')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('endpoint')\n  .primaryPalette('indigo')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('entity')\n  .primaryPalette('indigo')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('login')\n  .primaryPalette('indigo')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('side')\n  .primaryPalette('teal')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('dialog')\n  .primaryPalette('indigo')\n  .accentPalette('orange')\n  ;\n  $mdThemingProvider.theme('previewDialog')\n  .primaryPalette('teal')\n  .accentPalette('orange')\n  ;\n\n  console.info('Configuring routings');\n\n  $routeProvider\n  .when('/endpoints', {\n    controller: 'EndpointCtrl',\n    templateUrl: 'endpoint.html'\n  })\n  .when('/top', {\n    controller: 'TopCtrl',\n    templateUrl: 'top.html'\n  })\n  .when('/entity/:kind', {\n    controller: 'EntityCtrl',\n    templateUrl: 'entity/index.html'\n  })\n  .when('/login', {\n    controller: 'LoginCtrl',\n    templateUrl: 'login.html'\n  })\n  ;\n\n  $sceDelegateProvider.resourceUrlWhitelist([\n    // Allow same origin resource loads.\n    'self',\n    // Allow loading from our assets domain.  Notice the difference between * and **.\n    '**'\n  ]);\n\n\n})\n.run(function($rootScope, $endpointService, $apiService, $errorService, $location, $authService) {\n\n  console.info('Started running ng-manager');\n\n  // Check last endpoints\n  var ep = $endpointService.getSelected();\n  if (!ep) {\n    // Select endpoints\n    $location.url('/endpoints');\n  } else {\n    var token = $location.search().token;\n    if(token){\n      $authService.saveToken(token,ep);\n      $location.url('/top');\n    }\n\n    $rootScope.login = $authService.checkLogin(ep);\n\n    $apiService\n    .setup()\n    .then(function() {\n      //location.hash = 'top';\n    }, function(err) {\n      $errorService.showError(err);\n    });\n  }\n})\n;\n\n","/* global _ */\nangular\n.module('ngManager')\n.factory('$apiService', function($q, $endpointService, $http, $rootScope) {\n\n  var config = null;\n\n  // Resolves URL from path data\n  var getUrl = function(path) {\n    var ep = $endpointService.getSelected();\n    var url = ep.url.replace(/(.*)\\/+$/,'$1');\n    path = path.replace(/^\\/+(.*)$/, '$1');\n    return url + '/' + path;\n  };\n\n  var resolution = function(resolve) {\n    return function(result) {\n      return resolve(result.data);\n    };\n  };\n\n  var rejection = function(reject) {\n    return function(result) {\n      var msg = (result.data && result.data.message) || result.statusText;\n      var err = new Error(msg);\n      err.status = status;\n      reject(err);\n    };\n  };\n\n  // sends GET request\n  var get = function(path, query) {\n    return $q(function(resolve, reject) {\n      $http({\n        url: getUrl(path),\n        method: 'GET',\n        params: query\n      })\n      .then(resolution(resolve), rejection(reject));\n    });\n  };\n\n  // sends POST request\n  // data will be stringified as JSON object\n  var post = function(path, data) {\n    return $q(function(resolve, reject) {\n      $http({\n        url: getUrl(path),\n        method: 'PUT',\n        data: data\n      })\n      .then(resolution(resolve), rejection(reject));\n    });\n  };\n\n  // sends PUT request\n  // data will be stringified as JSON object\n  var put = function(path, data) {\n    return $q(function(resolve, reject) {\n      $http({\n        url: getUrl(path),\n        method: 'PUT',\n        data: data\n      })\n      .then(resolution(resolve), rejection(reject));\n    });\n  };\n\n  var del = function(path, query) {\n    return $q(function(resolve, reject) {\n      $http({\n        url: getUrl(path),\n        method: 'DELETE',\n        params: query\n      })\n      .then(resolution(resolve), rejection(reject));\n    });\n  };\n\n  var search = function(path, query) {\n    return $q(function(resolve, reject) {\n      $http({\n        url: getUrl(path),\n        method: 'GET',\n        params: query\n      })\n      .then(resolution(resolve), rejection(reject));\n    });\n  };\n\n  var getConfig = function() {\n    return $q(function(resolve, reject) {\n      if (config !== null) {\n        resolve(config);\n      } else {\n        console.info('Getting config');\n        get('/config')\n        .then(\n          resolve,\n          reject\n        );\n      }\n    });\n  };\n\n  return {\n\n    setup: function() {\n      console.log('apiService.setup');\n      config = null;\n      return getConfig().then(function(data) {\n        config = data;\n        console.log(config);\n        $rootScope.$emit('config', config);\n        return config;\n      }, function(err) {\n        return err;\n      });\n    },\n\n    getConfig: function() {\n      return config;\n    },\n\n    get: get,\n\n    post: post,\n\n    put: put,\n\n    del: del,\n\n    search: search\n\n  };\n})\n.factory('progressHttpInterceptor', function($rootScope, $q) {\n  var stack = 0;\n  var inc = function() {\n    if (stack++ === 0) {\n      $rootScope.$emit('progress.start');\n    }\n  };\n  var dec = function() {\n    if (--stack === 0) {\n      stack = 0;\n      $rootScope.$emit('progress.end');\n    }\n  };\n\n  return {\n    request: function(config) {\n      inc();\n      return config || $q.when(config);\n    },\n    requestError: function(rejection) {\n      dec();\n      return $q.reject(rejection);\n    },\n    response: function(response) {\n      dec();\n      return response || $q.when(response);\n    },\n    responseError: function(rejection) {\n      dec();\n      return $q.reject(rejection);\n    }\n  };\n})\n.factory('authHttpInterceptor', function ($q, $rootScope, $location, $endpointService, $cookies) {\n  return {\n    'request': function(config) {\n      var ep = $endpointService.getSelected();\n\n      if (!ep) {\n        return config || $q.when(config);\n      }\n\n      var tokens = [];\n      var data = localStorage.getItem('tokens');\n      if(data){\n        tokens = JSON.parse(data);\n      }\n\n      var token = _.find(tokens, { 'name': ep.name });\n      var headerName = 'X-XSRF-TOKEN';\n      if (token) {\n        config.headers[headerName] = token.token;\n      }\n\n      if ($cookies['XSRF-TOKEN']) {\n        delete $cookies['XSRF-TOKEN'];\n      }\n\n      return config || $q.when(config);\n    },\n    'responseError': function(rejection) {\n      var status = rejection.status;\n      console.log(status);\n      if (status === 401) {\n        $location.path('/login');\n      }\n      return $q.reject(rejection);\n    }\n  };\n})\n.config(function ($httpProvider) {\n  $httpProvider.interceptors.push('progressHttpInterceptor');\n  $httpProvider.interceptors.push('authHttpInterceptor');\n})\n;\n\n","/* global _ */\nangular\n.module('ngManager')\n.factory('$authService', function($q, $location, $rootScope, $endpointService, $apiService) {\n\n  var tokens = [];\n  var data = localStorage.getItem('tokens');\n  if(data){\n    tokens = JSON.parse(data);\n  }\n\n  var logout = function(){\n\n    var ep = $endpointService.getSelected();\n\n    if(!ep){\n      return;\n    } else {\n      $apiService.get('/logout').then(function(){\n        tokens = _.filter(tokens, function(token){\n          return (token.name !== ep.name);\n        });\n        localStorage.setItem('tokens', JSON.stringify(tokens));\n        $rootScope.login = checkLogin(ep);\n      })\n      ;\n    }\n  };\n\n  var saveToken = function(token,ep){\n\n    // Update Token if exist\n    var item = _.findWhere(tokens, { 'name': ep.name });\n    if(item){\n      tokens[tokens.indexOf(item)].token = token;\n    } else {\n      tokens.push({\n        name: ep.name,\n        token: token\n      });\n    }\n\n    //save to local strage\n    var list = _.map(tokens, function(t) {\n      return _.pick(t, 'name', 'token');\n    });\n    localStorage.setItem('tokens', JSON.stringify(list));\n\n  };\n\n  var checkLogin = function(ep){\n    var list = _.find(tokens, function(t){\n      return t.name === ep.name;\n    });\n    return list;\n  };\n\n  return {\n\n    logout: logout,\n    \n    saveToken: saveToken,\n    \n    checkLogin: checkLogin\n\n  };\n\n})\n;\n\n","/* global _ */\nangular\n.module('ngManager')\n.controller('EntityCtrl', function(\n  $q,\n  $scope,\n  $routeParams,\n  $rootScope,\n  $schemaForm,\n  $entityService,\n  $errorService,\n  $schemaNormalizer,\n  $window) {\n\n    var kind = $routeParams.kind;\n    var limit = 30;\n    var loadCount = 1;\n    var isLoading;\n    var isSearch = false;\n    var isFilter = false;\n\n    console.info('Entity', kind);\n\n    $rootScope.$emit('content.title', {\n      section: 'Entities',\n      page: kind\n    });\n\n    $scope.kind = kind;\n    $scope.filter_q = {};\n\n    var getFields = function(entityConfig) {\n      var features = entityConfig.features;\n      var schema = entityConfig.schema;\n      var fields = features.list && features.list.fields || _.keys(schema.properties);\n      return fields.map(function(field) {\n        if (typeof field === 'string') {\n          field = { id: field, label: field };\n        }\n        field.label = field.label || field.id;\n        if (field.label.indexOf('.') >= 0) {\n          field.label = field.id.substr(field.label.indexOf('.')+1);\n        } else {\n          field.label = field.id;\n        }\n        return field;\n      });\n    };\n\n    var getSearchSchema = function(entityConfig) {\n      // TODO : normalize\n      var schema = entityConfig.features.search && entityConfig.features.search.schema || {};\n      return $schemaNormalizer(schema);\n    };\n\n    $scope.list = function() {\n\n      isLoading = true;\n\n      $entityService.list({\n        kind: kind\n      }).then(function(data) {\n\n        // Get entity schema\n        var entityConfig = $entityService.getConfig(kind);\n        var fields = getFields(entityConfig);\n        var searchSchema = getSearchSchema(entityConfig);\n\n        $scope.fields = fields;\n        $scope.schema = entityConfig.schema;\n        $scope.rows = data.list;\n        $scope.searchSchema = searchSchema;\n\n        loadCount = data.list.length;\n\n        $scope.edit = function(row, id) {\n          row.editing = id;\n        };\n\n        $scope.blur = function(row) {\n          delete row.editing;\n        };\n\n        // update size after applying list\n        setTimeout(resize, 0);\n\n        isLoading = false;\n\n      }, function(err) {\n        $errorService.showError(err);\n      });\n    };\n\n    $scope.loadMore = function(){\n      if(isLoading || isSearch || isFilter) return;\n\n      var offset = loadCount;\n      isLoading = true;\n\n      $entityService.list({\n        kind: kind,\n        limit: limit,\n        offset: offset\n      }).then(function(data) {\n        if ( data.list.length !== 0 ) {\n          loadCount += data.list.length;\n          $scope.rows = $scope.rows.concat(data.list);\n        }\n        isLoading = false;\n      }, function(err) {\n        $errorService.showError(err);\n        isLoading = false;\n      });\n    };\n\n    $scope.export = function(){\n      $entityService.export(kind,$scope.rows);\n    };\n\n    $scope.import = function(){\n      $entityService.import(kind);\n    };\n\n    $scope.search = function(){\n      var query = $scope.searchForm;\n      $entityService.search({\n        kind: kind,\n        query: query\n      }).then(function(data) {\n        if ( data.list.length !== 0 ) {\n          $scope.rows = data.list;\n          isSearch = true;\n        }\n      }, function(err) {\n        $errorService.showError(err);\n      });\n    };\n\n    $scope.toggleSearchform = function(){\n\n      if(!$scope.searchForm){\n        $scope.searchForm = {};\n      }\n\n      if(!$scope.toggled){\n        $scope.toggled = true;\n      } else {\n        $scope.toggled = !$scope.toggled;\n      }\n    };\n\n    $scope.filter = function(){\n      $entityService.filter({\n        kind: kind,\n        query: $scope.filter_q\n      }).then(function(data) {\n        $scope.rows = data.list;\n        isFilter = true;\n      }, function(err) {\n        $errorService.showError(err);\n      });\n    };\n\n    var resize = function() {\n      var body = document.getElementById('entity-table-body');\n      var rect = body.getBoundingClientRect();\n      // get body height\n      var th = Math.floor($window.innerHeight - rect.top);\n      body.style.height = th + 'px';\n    };\n\n    $scope.$on('window.resize', resize);\n\n    $scope.list();\n\n})\n;\n\n","/* global _ */\nangular\n.module('ngManager')\n.directive('entityTable', function($entityService) {\n\n  return {\n    restrict: 'AE',\n    link: function(scope) {\n\n      var kind = scope.kind;\n\n      scope.add = function() {\n        $entityService.showForm({ kind: kind }, function(data) {\n        });\n      };\n\n      scope.$on('entity.removed', function(e, data) {\n        var rows = scope.rows;\n        rows.splice(rows.indexOf(data.row), 1);\n      });\n\n    },\n    templateUrl: 'entity/table.html'\n  };\n\n})\n.directive('headCell', function() {\n\n  return {\n\n    restrict: 'AE',\n    scope: false,\n    replace: true,\n    link: function(scope) {\n\n      scope.opening = '';\n\n      scope.open = function(){\n        scope.opening = 'is_open';\n      };\n\n      scope.close = function(){\n        scope.opening = '';\n      };\n      \n      scope.blur = function(){\n        scope.opening = '';\n      };\n\n    },\n    templateUrl: 'entity/head-cell.html'\n\n  };\n\n})\n.directive('entityRow', function($entityService, $errorService, $document, $rootScope) {\n\n  return {\n\n    restrict: 'AE',\n    scope: {\n      row: '=',\n      fields: '=',\n      kind: '='\n    },\n    replace: true,\n    link: function(scope) {\n\n      var kind = scope.kind;\n      var row = scope.row;\n\n      scope.key = $entityService.getKey({ kind: kind, entity: row });\n\n      // show modification form\n      scope.edit = function() {\n\n        $entityService\n        .get({ kind: kind, key: scope.key })\n        .then(function(data) {\n          $entityService.showForm({\n            kind: kind,\n            key: scope.key,\n            entity: data\n          }).then(function() {\n            scope.row = data;\n          });\n        }, function(err) {\n          $errorService.showError(err);\n        });\n\n      };\n\n      // remove the entity of the row\n      scope.remove = function() {\n\n        if (scope.removing) {\n\n          var key = $entityService.getKey({ kind: kind, entity: row });\n\n          $entityService\n          .remove({ kind: kind, key: key })\n          .then(function() {\n            $rootScope.$broadcast('entity.removed', {\n              kind: kind,\n              key: key,\n              row: row\n            });\n          }, function(err) {\n            $errorService.showError(err);\n          });\n\n        } else {\n\n          scope.removing = true;\n\n        }\n\n      };\n\n      scope.cancelRemoving = function() {\n        delete scope.removing;\n      };\n\n      scope.$on('$destroy', function() {\n        $document.off('click', scope.cancelRemoving);\n      });\n\n    },\n    templateUrl: 'entity/row.html'\n\n  };\n\n})\n.directive('entityCell', function($entityService, $mdDialog) {\n\n  return {\n\n    restrict: 'AE',\n    scope: {\n      field: '=',\n      key: '=',\n      row: '=',\n      kind: '='\n    },\n    replace: true,\n    link: function(scope, element) {\n\n      var kind = scope.kind;\n      var row = scope.row;\n      var field = scope.field;\n      var key = scope.key;\n\n      scope.edit = function() {\n        scope.editing = true;\n        setTimeout(function() {\n\n          var save = function() {\n            scope.saving = true;\n            scope.error = false;\n            if (typeof orig === 'string') {\n              row[field.id] = input[0].value;\n            } else {  \n              try {\n                row[field.id] = JSON.parse(input[0].value);\n              } catch (err) {\n                console.log(\"ERROR. JSON.parse failed\");\n                scope.error = err;\n                scope.saving = false;\n                return;\n              }\n            }\n            // TODO : validation\n\n            $entityService.saveField({\n              kind: kind,\n              key: key,\n              field: field.id,\n              value: row[field.id]\n            }).then(function() {\n              scope.saving = false;\n            }, function(err) {\n              scope.saving = false;\n              scope.error = err;\n            });\n            scope.$digest();\n          };\n\n          var input = element.find('input');\n          input.focus();\n          var orig = row[field.id];\n          input.bind('keyup', function(evt) {\n            switch (evt.keyCode) {\n              case 27: // ESC\n                row[field.id] = orig;\n                scope.$digest();\n                input.blur();\n                break;\n              case 13: // ENTER\n                save();\n                input.blur();\n                break;\n            }\n          });\n          input.bind('blur', function() {\n            if (orig !== row[field.id]) {\n              // Saving new value?\n              // save();\n            }\n          });\n        }, 0);\n      };\n\n      if(field.preview){\n        scope.openOpt = function(){\n          $mdDialog.show({\n            template: '<md-dialog md-theme=\"previewDialog\" aria-label=\"Preview dialog\"><preview-dialog /></md-dialog>',\n            targetEvent: event,\n            controller: ['$scope', function($scope) {\n              $scope.field = field;\n              $scope.row = row;\n              $scope.kind = kind;\n            }]\n          });\n        };\n      }\n\n      scope.blur = function() {\n        scope.editing = false;\n      };\n\n    },\n    templateUrl: 'entity/cell.html'\n\n  };\n\n})\n.directive('ngScroll', function() {\n\n  return function(scope, elm, attr) {\n    var raw = elm[0];\n    elm.bind('scroll', function() {\n      if (raw.scrollTop + raw.offsetHeight >= raw.scrollHeight*0.8) {\n        scope.$apply(attr.ngScroll);\n      }\n    });\n  };\n})\n.directive('previewDialog', function() {\n\n  return {\n\n    restrict: 'AE',\n    templateUrl: 'entity/preview-dialog.html'\n\n  };\n\n})\n.directive('previewItem', function($compile) {\n\n  return {\n\n    restrict: 'AE',\n    link: function(scope, element) {\n      var field = scope.field;\n      var data = scope.row;\n\n      var template = '';\n      var url = field.preview.url.replace(/\\{.+?\\}/, data[field.id]);\n\n      switch (field.preview.type) {\n        case 'image':\n          template = '<img src=\"'+url+'\" />';\n          break;\n        case 'video':\n          template = '<video controls autoplay><source src=\"'+url+'\"></video>';\n          break;\n      }\n      var content = $compile(angular.element(template))(scope);\n      element.append(content);\n    }\n\n  };\n\n})\n;\n\n","angular\n.module('ngManager')\n.filter('viewfilter', function ($filter) {\n  return function (input, type, format) {\n\n    if(typeof(input) === 'object'){\n      input = JSON.stringify(input);\n    }\n\n    switch(type){\n      case 'date':\n        format = format || 'medium';\n        return $filter('date')(input,format);\n\n      // add custom type here\n      // case 'foo': return var\n\n      default:\n        return input;\n    }\n  };\n});","/* global _ */\nangular\n.module('ngManager')\n.service('$entityService', function($q, $apiService, $schemaForm, $filter) {\n\n  var getEntityConfig = function(kind) {\n    return _.find($apiService.getConfig().entities, function(entity) {\n      return entity.id === kind;\n    });\n  };\n\n  // normalize data fields\n  var normalizeFields = function(data) {\n\n    var features = data.features || {};\n\n    var fields = (features.list && features.list.fields) || _.keys(data.schema.properties);\n\n    return _.map(fields, function(field) {\n      if (typeof field === 'string') {\n        return { id: field };\n      } else {\n        return field;\n      }\n    });\n\n  };\n\n  return {\n\n    getConfig: getEntityConfig,\n\n    list: function(opts) {\n\n      opts = opts || {};\n\n      var deferred = $q.defer();\n\n      var kind = opts.kind || '';\n      var limit = opts.limit || 30;\n      var offset = opts.offset || 0;\n\n      if (kind === '') {\n        deferred.reject(new Error('Kind is empty'));\n        return deferred.promise;\n      }\n\n      $apiService\n      .get('/entity/'+kind, {\n        limit: limit,\n        offset: offset\n      })\n      .then(function(data) {\n\n        var config = getEntityConfig(kind);\n        if (config === undefined) {\n          deferred.reject({\n            message: 'Entity configuration not found for {{kind}}',\n            params: { kind: kind }\n          });\n        } else {\n          data.fields = normalizeFields(config);\n          deferred.resolve(data);\n        }\n\n      }, function(err) {\n        deferred.reject(err);\n      })\n      ;\n\n      return deferred.promise;\n\n    },\n\n    get: function(opts) {\n\n      opts = opts || {};\n\n      return $q(function(resolve, reject) {\n\n        var kind = opts.kind || '';\n        if (kind === '') {\n          return reject(new Error('kind is empty'));\n        }\n\n        var key = opts.key;\n        if (key === undefined) {\n          return reject(new Error('key is null'));\n        }\n\n        $apiService\n        .get('/entity/'+kind+'/'+key)\n        .then(function(data) {\n          var config = getEntityConfig(kind);\n          if (config === undefined) {\n            reject({\n              message: 'Entity configuration not found for {{kind}}',\n              params: { kind: kind }\n            });\n          } else {\n            resolve(data);\n          }\n        }, reject);\n      });\n    },\n\n    showForm: function(opts) {\n\n      var kind = opts.kind;\n      var key = opts.key;\n      var entity = opts.entity || {};\n      var spec = getEntityConfig(kind);\n      var _this = this;\n      var submit = function() {\n        if(!key){\n          key = _this.getKey({\n            kind: kind,\n            entity: entity\n          });\n        }\n        return $apiService.put('/entity/'+kind+'/'+key, entity);\n      };\n\n      return $schemaForm.showSide({\n        schema: spec.schema,\n        entity: entity,\n        submit: submit\n      });\n    },\n\n    getKey: function(opts) {\n      var kind = opts.kind;\n      var entity = opts.entity;\n      var spec = getEntityConfig(kind);\n      var keys = spec.schema.primaryKey;\n      var key = keys.map(function(key) {\n        return encodeURIComponent(entity[key] == null ? \"\" : entity[key]);\n      }).join(',');\n      return key;\n    },\n\n    saveField: function(opts) {\n\n      var kind = opts.kind;\n      var key = opts.key;\n      var field = opts.field;\n      var value = opts.value;\n\n      return $apiService\n      .put('/entity/'+kind+'/'+key+'/'+field, { value: value })\n      ;\n\n    },\n\n    remove: function(opts) {\n\n      var kind = opts.kind;\n      var key = opts.key;\n\n      return $apiService.del('/entity/'+kind+'/'+key);\n    },\n\n    search: function(opts) {\n\n      return $q(function(resolve, reject) {\n\n        var kind = opts.kind;\n        if (kind === '') {\n          return reject(new Error('kind is empty'));\n        }\n\n        var query = opts.query || '';\n        if (query === '') {\n          return reject(new Error('query is null'));\n        }\n\n        $apiService\n        .get('/search/entity/'+kind, {\n          query: query,\n          limit: -1,\n          offset: 0\n        })\n        .then(function(data) {\n          var config = getEntityConfig(kind);\n          if (config === undefined) {\n            reject({\n              message: 'Entity configuration not found for {{kind}}',\n              params: { kind: kind }\n            });\n          } else {\n            resolve(data);\n          }\n        }, reject);\n      });\n    },\n\n\n    filter: function(opts) {\n      return $q(function(resolve, reject) {\n\n        var kind = opts.kind;\n        if (kind === '') {\n          return reject(new Error('kind is empty'));\n        }\n\n        var query = opts.query || '';\n        if (query === '') {\n          return reject(new Error('query is null'));\n        }\n\n        $apiService\n        .get('/filter/entity/'+kind, {\n          query: query,\n          limit: -1,\n          offset: 0\n        })\n        .then(function(data) {\n          var config = getEntityConfig(kind);\n          if (config === undefined) {\n            reject({\n              message: 'Entity configuration not found for {{kind}}',\n              params: { kind: kind }\n            });\n          } else {\n            resolve(data);\n          }\n        }, reject);\n      });\n    },\n\n    import: function(kind){\n      var _this = this;\n      var file = document.getElementById(\"importfile\").files[0];\n      var reader = new FileReader();\n      var entities = null;\n      reader.readAsText(file, \"utf-8\");\n\n      reader.onload = function(e){\n\n        try{\n          entities = JSON.parse(e.target.result);\n        } catch(error) {\n          console.err(error);\n        }\n\n        // TODO: validation\n\n        if(entities !== null){\n          for(var i = 0; i < entities.length; i++){\n            var key = _this.getKey({\n              kind: kind,\n              entity: entities[i]\n            });\n            $apiService.put('/entity/'+kind+'/'+key, entities[i]);\n          }\n        }\n\n      };\n\n    },\n\n    export: function(kind){\n\n      this.list({\n        kind: kind,\n        limit: -1 // getAll\n      })\n      .then(function(data) {\n        var rows = data.list;\n        var filename = kind+ \"_\" + $filter('date')(new Date(), 'yyyyMMddHHmm') + \".json\";\n        var content = JSON.stringify(rows);\n        window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        window.requestFileSystem(TEMPORARY, 1024*1024, function(fileSystem){\n          // create\n          fileSystem.root.getFile(filename, {create: true, exclusive: false}, function(fileEntry){\n            // write\n            fileEntry.createWriter(function(fileWriter){\n              var blob = new Blob([ content ], { \"type\" : \"text/plain\" });\n              fileWriter.write(blob);\n              // success\n              fileWriter.onwriteend = function(e){\n                console.info(\"writing success\");\n                var link = document.createElement('a');\n                link.href = fileEntry.toURL();\n                link.download = filename;\n                document.body.appendChild(link); // for Firefox\n                link.click();\n                document.body.removeChild(link); // for Firefox\n              };\n              // failed\n              fileWriter.onerror = function(e){\n                console.log(\"writing failed\");\n              };\n            });\n          }, function(error){\n              console.log(\"error : \" + error.code);\n          });\n        });\n      });\n    }\n  };\n\n})\n;\n\n","angular\n.module('ngManager')\n.controller('EndpointCtrl', function( $q, $scope, $rootScope, $schemaForm, $endpointService, $apiService, $errorService, $filter) {\n\n    $scope.endpoints = $endpointService.getAll();\n\n    $scope.remove = function(index) {\n      $endpointService.remove(index);\n    };\n\n    $scope.select = function(index) {\n      $endpointService.select(index);\n      $apiService\n      .setup()\n      .then(function() {\n        location.hash = 'top';\n      }, function(err) {\n        $errorService.showError(err);\n      })\n      ;\n    };\n\n    var add = function(endpoint) {\n      $endpointService.add(endpoint);\n    };\n\n    $rootScope.$emit('content.title', {\n      section: 'Settings',\n      page: 'Endpoints'\n    });\n\n    // Showing form for adding new schema\n    $scope.showForm = function($event) {\n\n      $schemaForm.showDialog({\n        title: 'Add the endpoint',\n        event: $event,\n        schema: {\n          type: 'object',\n          properties: {\n            name: { type: 'string', maxLength: 100, minLength: 1 },\n            url: { type: 'string', maxLength: 100, minLength: 1, format: 'uri', style: 'long' },\n          },\n          required: ['name','url']\n        },\n        submit: function(scope) {\n          var deferred = $q.defer();\n          var entity = scope.entity;\n          add(entity);\n          deferred.resolve();\n          return deferred.promise;\n        }\n      });\n\n    };\n\n  }\n);\n","/* global _ */\nangular\n.module('ngManager')\n.factory('$endpointService', function() {\n\n  var endpoints = [];\n  var data = localStorage.getItem(\"endpoints\");\n  if (data) {\n    endpoints = JSON.parse(data);\n  }\n\n  return {\n\n    getAll: function() {\n      return endpoints;\n    },\n\n    getSelected: function() {\n      return _.find(endpoints, function(ep) {\n        return ep.selected === true;\n      });\n    },\n\n    get: function(index) {\n      return endpoints[index];\n    },\n\n    add: function(endpoint) {\n      endpoints.push(endpoint);\n      this.save();\n    },\n\n    remove: function(index) {\n      endpoints.splice(index, 1);\n      this.save();\n    },\n\n    select: function(index) {\n      _.each(endpoints, function(ep, i) {\n        if (i === index) {\n          ep.selected = true;\n        } else {\n          delete ep.selected;\n        }\n      });\n      this.save();\n    },\n\n    save: function() {\n      var list = _.map(endpoints, function(ep) {\n        return _.pick(ep, 'name', 'url', 'selected');\n      });\n      localStorage.setItem('endpoints', JSON.stringify(list));\n    }\n  };\n\n});\n\n","angular\n.module('ngManager')\n.factory('$errorService', function($mdToast) {\n\n  var showError = function(err) {\n    var msg = '';\n    if (typeof err === 'string') {\n      msg = err;\n    } else if (err.message) {\n      msg = err.message;\n    } else if (err) {\n      msg = err.toString();\n    } else {\n      msg = 'Unknown Error';\n    }\n\n    $mdToast.show({\n      controller: ['$scope', function($scope) {\n        $scope.message = msg;\n        $scope.params = err.params || {};\n        $scope.closeToast = function() {\n          $mdToast.hide();\n        };\n      }],\n      templateUrl: 'toasts/error.html',\n      duration: 6000,\n      position: 'top right'\n    });\n  };\n\n  return {\n\n    showError: showError,\n\n  };\n\n})\n;\n","angular\n.module('ngManager')\n.config(function($translateLoaderProvider) {\n\n  $translateLoaderProvider.translations('en', {\n    name: 'Name',\n    url: 'URL'\n  });\n\n})\n;\n","angular\n.module('ngManager')\n.config(function($translateLoaderProvider) {\n\n  $translateLoaderProvider.translations('ja', {\n    // Words\n    Add: '追加',\n    Cancel: 'キャンセル',\n    Close: '閉じる',\n    Create: '作成',\n    Endpoints: 'エンドポイント',\n    Entities: 'データ',\n    Name: '名前',\n    Update: '更新',\n    Modify: '編集',\n    Remove: '削除',\n    Search: '検索',\n    Settings: '設定',\n    Submit: '送信',\n    Top: 'トップ',\n    // Labels\n    name: '名前',\n    url: 'URL',\n    // Sentences\n    'Add the endpoint': 'エンドポイント追加',\n\n    'Entity configuration not found for {{kind}}': '{{kind}}のデータ設定が見つかりません'\n  });\n\n})\n;\n\n","angular\n.module('ngManager')\n.provider('$translateLoader', function() {\n\n  var tables = {};\n\n  var mergeTables = function(table, lang) {\n    var map = tables[lang];\n    if (!map) {\n      map = tables[lang] = {};\n    }\n    tables[lang] = _.merge(table, map);\n  };\n\n  this.translations = function(lang, table) {\n    mergeTables(table, lang);\n  };\n\n  this.$get = function($q) {\n\n    var service = function(options) {\n      var key = options.key;\n      var deferred = $q.defer();\n      deferred.resolve(tables[key] || {});\n      return deferred.promise;\n    };\n\n    service.addTables = function(newTables) {\n      _.each(newTables, mergeTables);\n    };\n\n    return service;\n  };\n})\n.config(function($translateProvider) {\n  $translateProvider.useLoader('$translateLoader');\n  $translateProvider.determinePreferredLanguage();\n});\n\n\n","\nangular\n.module('ngManager')\n.controller('IndexCtrl', function(\n  $scope,\n  $rootScope,\n  $mdSidenav,\n  $timeout,\n  $interval,\n  $location,\n  $window,\n  $translate,\n  $translateLoader,\n  $endpointService,\n  $authService) {\n\n    $scope.toggleMenu = function() {\n      $timeout(function() {\n        $mdSidenav('left-menu').toggle();\n      });\n    };\n\n    $scope.site = { title: 'NG-Manager' };\n\n    $scope.head = { title: '' };\n\n    $rootScope.$on('content.title', function(evt, title) {\n      $scope.head.title = title;\n    });\n\n    $rootScope.$on('$locationChangeSuccess', function() {\n      $scope.hash = location.hash;\n      $mdSidenav('left-menu').close();\n    });\n\n    $rootScope.$on('progress.start', function() {\n      $scope.progress = { mode: 'query', value: 0 };\n    });\n\n    $rootScope.$on('progress.end', function() {\n      var progress = $scope.progress;\n      if (progress.mode === 'query') {\n        $timeout(function() {\n          $scope.progress = false;\n        }, 500);\n      } else if (progress.mode === 'determinate') {\n        var p = $interval(function() {\n          progress.value += 20;\n          if (progress.value >= 100) {\n            $interval.cancel(p);\n            $timeout(function() {\n              delete $scope.progress;\n            }, 400);\n          }\n        }, 50);\n      }\n    });\n\n    $scope.openRight = true;\n\n    $rootScope.$on('config', function(evt, config) {\n      console.info('Loaded configuration', config);\n      $scope.config = config;\n      $scope.site = config.site;\n\n      if (config.i18n) {\n        $translateLoader.addTables(config.i18n);\n        $translate.refresh();\n      }\n    });\n\n    $window.addEventListener('resize', function() {\n      $rootScope.$broadcast('window.resize');\n    });\n\n    $scope.logout = function(){\n\n      $authService.logout();\n      $location.url('/login');\n\n    };\n});\n","angular\n.module('ngManager')\n.controller('LoginCtrl', function($scope, $rootScope, $endpointService) {\n\n  $rootScope.$emit('content.title', {\n    section: 'Login'\n  });\n\n  $scope.getUrl = function(path) {\n    var ep = $endpointService.getSelected();\n    var url = ep.url.replace(/(.*)\\/+$/,'$1');\n    path = path.replace(/^\\/+(.*)$/, '$1');\n    return url + '/' + path;\n  };\n\n})\n;\n","angular\n.module('ngManager')\n.factory('$schemaForm', function(\n  $mdDialog,\n  $rootScope,\n  $sideContent,\n  $schemaNormalizer,\n  $schemaValidator,\n  $q) {\n\n  var validator = function(scope) {\n    return function(path) {\n      var errors = $schemaValidator.validate(scope.entity, scope.schema);\n      if (errors) {\n        errors.forEach(function(err) {\n          scope.errors[err.path] = err.message;\n        });\n        scope.hasError = true;\n      } else {\n        if (path) {\n          delete scope.errors[path];\n        } else {\n          scope.errors = {};\n        }\n        scope.hasError = false;\n      }\n    };\n  };\n\n  var submitter = function(scope, interim, submit, deferred) {\n    return function() {\n      scope.validate();\n      if (scope.hasError) {\n        return;\n      }\n      if (!submit) {\n        interim.hide();\n        deferred.reject();\n      }\n      submit(scope).then(function() {\n        interim.hide();\n        deferred.resolve(scope.entity);\n      }, function(err) {\n        deferred.reject(err);\n      });\n    };\n  };\n\n  var canceller = function(scope, interim, deferred) {\n    return function() {\n      interim.hide();\n      deferred.reject();\n    };\n  };\n\n  return {\n    showDialog: function(opts) {\n\n      opts = opts || {};\n\n      var schema = opts.schema;\n      var entity = opts.entity || {};\n      var event = opts.event;\n      var deferred = $q.defer();\n      var submit = opts.submit;\n      var theme = opts.theme || 'dialog';\n      // normalize schea\n      schema = $schemaNormalizer(schema);\n\n      $mdDialog.show({\n        template: '<md-dialog md-theme=\"'+theme+'\"><schema-form /></md-dialog>',\n        targetEvent: event,\n        controller: ['$scope', function($scope) {\n          $scope.schema = schema;\n          $scope.entity = entity;\n          $scope.title = opts.title || '';\n          $scope.errors = {};\n          $scope.validate = validator($scope);\n          $scope.submit = submitter($scope, $mdDialog, submit, deferred);\n          $scope.cancel = canceller($scope, $mdDialog, deferred);\n        }]\n      });\n\n      return deferred.promise;\n    },\n\n    showSide: function(opts) {\n\n      var schema = opts.schema;\n      var entity = opts.entity || {};\n      var deferred = $q.defer();\n      var submit = opts.submit;\n\n      // normalize schea\n      schema = $schemaNormalizer(schema);\n\n      var scope = $rootScope.$new();\n      scope.schema = schema;\n      scope.entity = entity;\n      scope.errors = {};\n      scope.validate = validator(scope);\n\n      var interim = $sideContent(scope);\n\n      scope.submit = submitter(scope, interim, submit, deferred);\n      scope.cancel = canceller(scope, interim, deferred);\n\n      interim.show();\n\n      return deferred.promise;\n    }\n\n  };\n\n})\n.directive('schemaForm', function() {\n\n  return {\n    restrict: 'AE',\n    templateUrl: 'schema-form/form.html'\n  };\n\n})\n.directive('schemaItem', function($compile, $templateCache) {\n\n  var linker = function(scope, element) {\n\n    var schema = scope.schema;\n    var template = \"\";\n    switch(schema.type) {\n      case 'string':\n        if (schema.enum) {\n          template = $templateCache.get('schema-form/input_radio.html');\n        } else {\n          template = $templateCache.get('schema-form/input.html');\n        }\n        break;\n      case 'boolean':\n        template = $templateCache.get('schema-form/input_boolean.html');\n        break;\n      case 'number':\n        template = $templateCache.get('schema-form/input_number.html');\n        break;\n      case 'object':\n        scope.entity[scope.schema.path] = scope.entity[scope.schema.path] || {};\n        if (schema.format) {\n          template = $templateCache.get('schema-form/input_file.html');\n        } else {\n          template = $templateCache.get('schema-form/input_object.html');\n        }\n        break;\n      case 'array':\n        if (schema.items && schema.items.enum) {\n          scope.entity[scope.schema.path] = scope.entity[scope.schema.path] || [];\n          template = $templateCache.get('schema-form/input_checkboxes.html');\n        } else {\n          scope.entity[scope.schema.path] = scope.entity[scope.schema.path] || [];\n          template = $templateCache.get('schema-form/input_array.html');\n        }\n        break;\n    }\n    \n    var content = $compile(angular.element(template))(scope);\n    \n    if (schema.style) {\n      content.addClass(schema.style);\n    }\n\n    element.append(content);\n  };\n\n  return {\n    scope: {\n      schema: '=',\n      entity: '=',\n      errors: '='\n    },\n    restrict: 'AE',\n    replace: true,\n    link: linker\n  };\n\n})\n;\n","/* global _ */\nangular\n.module('ngManager')\n.factory('$schemaNormalizer', function() {\n\n  var normalize = function(schema, path, key) {\n\n    // prevent normalizing twice\n    if (schema.$$normalized) {\n      return schema;\n    }\n\n    if (typeof schema === 'string') {\n      schema = { type: schema };\n    }\n\n    if (path) {\n      schema.path = path + '.' + key;\n    } else {\n      schema.path = key;\n    }\n\n    schema.key = key;\n\n    if (schema.type === 'object') {\n      // Normalize children\n      _.each(schema.properties, function(prop, key) {\n        schema.properties[key] = normalize(prop, path, key);\n      });\n      schema.keyOrder = _.keys(schema.properties);\n    }\n\n    if (schema.type === 'array') {\n      // Normalize children\n      _.each(schema.items, function(prop, key) {\n        schema.items[key] = normalize(prop, path, key);\n      });\n      schema.keyOrder = _.keys(schema.items);\n    }\n\n    // Mark as normalized\n    schema.$$normalized = true;\n\n    return schema;\n  };\n\n  return normalize;\n\n});\n","/* global tv4,_ */\nangular\n.module('ngManager')\n.factory('$schemaValidator', function() {\n      \n  /**\n  * formats\n  */\n  var formats = {\n    /**\n     * This SHOULD be a date in ISO 8601 format of YYYY-MM-DDThh:mm:ssZ in UTC time.\n     * This is the recommended form of date/timestamp.\n     *\n     * Also supports YYYY-MM-DDThh:mm:ss.SSSTZD (e.g. 2012-12-10T19:20:30.456+09:00)\n     */\n    'date-time': /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{1,3})?(?:Z|[+\\-]\\d{2}:\\d{2})$/,\n\n    /**\n     * This SHOULD be a date in the format of YYYY-MM-DD.\n     * It is recommended that you use the \"date-time\" format\n     * instead of \"date\" unless you need to transfer only the date part.\n     */\n    'date': /^\\d{4}-\\d{2}-\\d{2}$/,\n\n    /**\n     * This SHOULD be a time in the format of hh:mm:ss.\n     * It is recommended that you use the \"date-time\" format\n     * instead of \"time\" unless you need to transfer only the time part.\n     *\n     * Also supports hh:mm:ss.SSS (e.g. 19:20:30.456)\n     */\n    'time': /^\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{1,3})?$/,\n\n    /**\n     * This SHOULD be the difference, measured in milliseconds,\n     * between the specified time and midnight, 00:00 of January 1, 1970 UTC.\n     * The value SHOULD be a number (integer or float).\n     */\n    'utc-millisec': function(input) { return !isNaN(parseInt(input,10));},\n\n    /**\n     * A regular expression, following the regular expression specification\n     * from ECMA 262/Perl 5.\n     */\n    'regex': function(input) {\n      try {\n        new RegExp(input);\n      } catch(e) {\n        return false;\n      }\n      return true;\n    },\n\n    /**\n     * This is a CSS color (like \"#FF0000\" or \"red\"),\n     * based on CSS 2.1 [W3C.CR-CSS21-20070719].\n     * rgb() format is also allowed.\n     * Not only 17 'basic color names specified in CSS 2.1, 143 'X11 color names' are also allowed.\n     */\n    'color': /^(?:(?:#?[0-9a-fA-F]{3,6})|(?:rgb\\(\\s*\\b(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(?:rgb\\(\\s*(?:\\d?\\d%|100%)\\s*,\\s*(?:\\d?\\d%|100%)\\s*,\\s*(?:\\d?\\d%|100%)\\s*\\))|(?:maroon|red|orange|yellow|olive|green|purple|fuchsia|lime|teal|aqua|blue|navy|black|gray|silver|white|indianred|lightcoral|salmon|darksalmon|lightsalmon|crimson|firebrick|darkred|pink|lightpink|hotpink|deeppink|mediumvioletred|palevioletred|lightsalmon|coral|tomato|orangered|darkorange|gold|lightyellow|lemonchiffon|lightgoldenrodyellow|papayawhip|moccasin|peachpuff|palegoldenrod|khaki|darkkhaki|lavender|thistle|plum|violet|orchid|magenta|mediumorchid|mediumpurple|amethyst|blueviolet|darkviolet|darkorchid|darkmagenta|indigo|slateblue|darkslateblue|mediumslateblue|greenyellow|chartreuse|lawngreen|limegreen|palegreen|lightgreen|mediumspringgreen|springgreen|mediumseagreen|seagreen|forestgreen|darkgreen|yellowgreen|olivedrab|darkolivegreen|mediumaquamarine|darkseagreen|lightseagreen|darkcyan|cyan|lightcyan|paleturquoise|aquamarine|turquoise|mediumturquoise|darkturquoise|cadetblue|steelblue|lightsteelblue|powderblue|lightblue|skyblue|lightskyblue|deepskyblue|dodgerblue|cornflowerblue|mediumslateblue|royalblue|mediumblue|darkblue|midnightblue|cornsilk|blanchedalmond|bisque|navajowhite|wheat|burlywood|tan|rosybrown|sandybrown|goldenrod|darkgoldenrod|peru|chocolate|saddlebrown|sienna|brown|snow|honeydew|mintcream|azure|aliceblue|ghostwhite|whitesmoke|seashell|beige|oldlace|floralwhite|ivory|antiquewhite|linen|lavenderblush|mistyrose|gainsboro|lightgrey|darkgray|dimgray|lightslategray|slategray|darkslategray))$/i,\n\n    /**\n     * This is a CSS style definition (like \"color: red; background-color:#FFF\"),\n     * based on CSS 2.1 [W3C.CR-CSS21-20070719].\n     */\n    'style': /^\\s*[^:]+\\s*:\\s*[^:;]+\\s*;{0,1}\\s*$/,\n\n    /**\n     * This value SHOULD be a URI.\n     *\n     * http://snipplr.com/view/6889/regular-expressions-for-uri-validationparsing/\n     */\n    'uri': /^(?:(?:[a-z0-9+.\\-]+:\\/\\/)(?:(?:(?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?(?:(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)(?::(?:\\d*))?(?:\\/(?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*)?|(?:[a-z0-9+.\\-]+:)(?:\\/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*)?)(?:\\?(?:[a-z0-9-._~!$&'()*+,;=:\\/?@]|%[0-9A-F]{2})*)?(?:#(?:[a-z0-9-._~!$&'()*+,;=:\\/?@]|%[0-9A-F]{2})*)?$/i,\n\n    /*\n     * This SHOULD be an email address.\n     *\n     * http://fightingforalostcause.net/misc/2006/compare-email-regex.php\n     */\n    'email': /^(?!(?:(?:\\x22?\\x5C[\\x00-\\x7E]\\x22?)|(?:\\x22?[^\\x5C\\x22]\\x22?)){255,})(?!(?:(?:\\x22?\\x5C[\\x00-\\x7E]\\x22?)|(?:\\x22?[^\\x5C\\x22]\\x22?)){65,}@)(?:(?:[\\x21\\x23-\\x27\\x2A\\x2B\\x2D\\x2F-\\x39\\x3D\\x3F\\x5E-\\x7E]+)|(?:\\x22(?:[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x21\\x23-\\x5B\\x5D-\\x7F]|(?:\\x5C[\\x00-\\x7F]))*\\x22))(?:\\.(?:(?:[\\x21\\x23-\\x27\\x2A\\x2B\\x2D\\x2F-\\x39\\x3D\\x3F\\x5E-\\x7E]+)|(?:\\x22(?:[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x21\\x23-\\x5B\\x5D-\\x7F]|(?:\\x5C[\\x00-\\x7F]))*\\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\\]))$/i,\n\n    /**\n     * This SHOULD be an ip version 4 address.\n     */\n    'ipv4': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n\n    /**\n     * This SHOULD be an ip version 6 address.\n     *\n     * http://home.deds.nl/~aeron/regex/\n     */\n    'ipv6': /^((?=.*::)(?!.*::.+::)(::)?([\\dA-F]{1,4}:(:|\\b)|){5}|([\\dA-F]{1,4}:){6})((([\\dA-F]{1,4}((?!\\3)::|:\\b|$))|(?!\\2\\3)){2}|(((2[0-4]|1\\d|[1-9])?\\d|25[0-5])\\.?\\b){4})$/i,\n\n    /**\n     * This SHOULD be a host-name.\n     */\n    'host-name'\n      : /^(?:(?:[a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\-]*[A-Za-z0-9])$/\n  };\n \n\n  _.each(formats, function(format, key) {\n\n    if (typeof format === 'function') {\n      tv4.addFormat(key, function(data) {\n        // do not check empty value\n        if (data === null || data === undefined || data.length === 0) {\n          return null;\n        }\n        if (format(data)) {\n          return null;\n        } else {\n          return 'must be valid format: ' + key;\n        }\n      });\n    } else {\n      tv4.addFormat(key, function(data) {\n        // do not check empty value\n        if (data === null || data === undefined || data.length === 0) {\n          return null;\n        }\n        if (format.test(data)) {\n          return null;\n        } else {\n          return 'must be valid ' + key;\n        }\n      });\n    }\n  });\n\n  var normalize = function(data) {\n\n    if (typeof data === 'object') {\n      // remove empty data\n      _.each(data, function(val, key) {\n        if (val === '' || val === undefined || val === null) {\n          delete data[key];\n        } else if (typeof val === 'object') {\n          normalize(data[key]);\n        }\n      });\n    }\n  };\n\n  return {\n\n    validate: function(data, schema, path) {\n\n      normalize(data);\n\n      var result = tv4.validateMultiple(data, schema);\n      if (result.valid) {\n        return null;\n      } else {\n        _.each(result.errors, function(err) {\n          var keyPath = '/';\n          if (err.dataPath) {\n            keyPath = err.dataPath;\n          }\n          if (err.params.key) {\n            keyPath = err.dataPath + '/' + err.params.key;\n          }\n          keyPath = keyPath.split('/');\n          keyPath.shift();\n          err.path = keyPath.join('.');\n        });\n        if (path) {\n          for (var i = 0; i < result.errors.length; i++) {\n            var err = result.errors[i];\n            if (err.path === path) {\n              return [err];\n            }\n          }\n          return null;\n        } else {\n          return result.errors;\n        }\n      }\n    }\n\n  };\n\n});\n\n","angular\n.module('ngManager')\n.service('$sideContent', function($rootElement,\n                                  $mdSidenav,\n                                  $mdTheming,\n                                  $animate,\n                                  $timeout,\n                                  $window,\n                                  $compile) {\n\n  var lastScope = null;\n  var lastElement = null;\n\n  return function(scope) {\n\n    if (lastScope) {\n      lastScope.$destroy();\n      lastElement.remove();\n      lastScope = null;\n    }\n\n    var element = $compile('<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 side-form\" md-theme=\"side\" md-component-id=\"right-form\"><md-content layout=\"column\"><schema-form /></md-content></md-sidenav>')(scope);\n\n    var show = function() {\n      $rootElement.find('body').append(element);\n      $mdSidenav('right-form').toggle();\n      lastScope = scope;\n      lastElement = element;\n    };\n\n    var hide = function() {\n      $mdSidenav('right-form').close();\n    };\n\n    return {\n      show: show,\n      hide: hide\n    };\n  };\n});\n","angular\n.module('ngManager')\n.controller('TopCtrl', function($rootScope) {\n\n  $rootScope.$emit('content.title', {\n    section: 'Top'\n  });\n\n})\n;\n","/*! angular-base64-upload - v0.0.5 - 2015-03-08\n* https://github.com/adonespitogo/angular-base64-upload\n* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015; Licensed  */\nangular.module('naif.base64', [])\n.directive('baseSixtyFourInput', ['$window', function ($window) {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: function (scope, elem, attrs, ngModel) {\n\n      var arrayBufferToBase64 = function(buffer) {\n        var binary = '';\n        var bytes = new Uint8Array( buffer );\n        var len = bytes.byteLength;\n        for (var i = 0; i < len; i++) {\n            binary += String.fromCharCode( bytes[ i ] );\n        }\n        return $window.btoa( binary );\n      };\n\n      var fileObject = {};\n\n      scope.readerOnload = function(e){\n        fileObject.base64 = arrayBufferToBase64(e.target.result);\n        scope.$apply(function(){\n          ngModel.$setViewValue(angular.copy(fileObject));\n        });\n      };\n\n      var reader = new FileReader();\n      reader.onload = scope.readerOnload;\n\n      elem.on('change', function() {\n        var file = elem[0].files[0];\n\n        if (file) {\n          fileObject.filetype = file.type;\n          fileObject.filename = file.name;\n          fileObject.filesize = file.size;\n          reader.readAsArrayBuffer(file);\n        } else {\n          fileObject.filetype = \"\";\n          fileObject.filename = \"\";\n          fileObject.filesize = \"\";\n          fileObject.base64 = \"\";\n          ngModel.$setViewValue(angular.copy(fileObject));\n        }\n      });\n\n    }\n  };\n}]);\n","(function() {\n  'use strict';\n\n  var app;\n\n  app = angular.module('datePicker', ['ngMaterial', 'ui.utils']);\n\n  app.directive('mdDatePicker', [    \n    '$datepicker', function($datepicker) {      \n      return {\n        template: '<div class=\"md-toolbar-tools dark\">' + ' <md-input-container ng-disabled=\"isDisabled\">' + '     <label>{{label}}</label>' + '    <input data-date-format=\"yyyy-MM-dd\" id=\"date-picker\" model-view-value=\"true\"' + '             ng-model=\"value\" bs-datepicker></md-input>' + '</md-input-container>' + '</div>',\n        restrict: 'E',\n        scope: {\n          lineColor: \"@\",\n          textColor: \"@\",\n          mask: \"@\"\n        },\n        link: function(scope, element, attrs) {\n          var picker;\n          picker = $(\"#date-picker\");\n          if (scope.textColor) {\n            picker.css(\"color\", scope.textColor, \"important\");\n          }\n          if (scope.lineColor) {\n            picker.css(\"border-color\", scope.lineColor, \"important\");\n          }\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n"],"sourceRoot":"/source/"}